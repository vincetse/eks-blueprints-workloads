apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: kubedb
  namespace: {{ .Values.argoNamespace | default "argocd" }}
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: default
  destination:
    namespace: kubedb
    server: {{ .Values.spec.destination.server }}
  source:
    chart: kubedb
    repoURL: https://charts.appscode.com/stable
    targetRevision: v2024.9.30
    helm:
      valuesObject:
        global:
          license: |
            -----BEGIN CERTIFICATE-----
            MIIEZTCCA02gAwIBAgIIU6RhOFRXyOgwDQYJKoZIhvcNAQELBQAwJTEWMBQGA1UE
            ChMNQXBwc0NvZGUgSW5jLjELMAkGA1UEAxMCY2EwHhcNMjQxMDAyMDU0NzI0WhcN
            MjQxMTAxMDU0NzI0WjCCARgxDzANBgNVBAYTBmt1YmVkYjETMBEGA1UECBMKZW50
            ZXJwcmlzZTGBpDAXBgNVBAoTEGt1YmVkYi1jb21tdW5pdHkwFwYDVQQKExBrdWJl
            ZGItZXh0LXN0YXNoMBgGA1UEChMRa3ViZWRiLWF1dG9zY2FsZXIwGAYDVQQKExFr
            dWJlZGItZW50ZXJwcmlzZTAcBgNVBAoTFXBhbm9wdGljb24tZW50ZXJwcmlzZTAe
            BgNVBAoTF2t1YmVkYi1tb25pdG9yaW5nLWFnZW50MRowGAYDVQQLExFrdWJlZGIt
            ZW50ZXJwcmlzZTEtMCsGA1UEAxMkYzI4OTJkYTMtYmE3OS00YTA0LWJmZjItMjZm
            NzhhOTY3YzM3MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEArOBgGpPM
            s9XNI79/E6KiQv+2Gu6qMD2QZeWBdsa9xk/Qe9k0B6DM5/eM/o/Mb4OowCmdE2NV
            FJRi19UN9lCH8+b8E0LQIgCjnavKWgLW0vYhFpGQ5VZSmWwLScIMniP7eoBl1c3K
            l6HkHHuE8HmCok79TwBFyKZFRZ0ne9ggk7vff03e+t6A1bP5hO45dcGv2ZkOsbwv
            PX8hW6OKF4AhTJTM9DLJYmYeZZIi1xdxqrAqlM4pplShqyiolD6Swl46DdicKasc
            p1zwYHFdwwnheIXH7MpomxlwMyntmXicovciG19QOUqROH/sgWgLDk4mbuIDBUmY
            oPASaiFF70giSQIDAQABo4GjMIGgMA4GA1UdDwEB/wQEAwIFoDATBgNVHSUEDDAK
            BggrBgEFBQcDAjAfBgNVHSMEGDAWgBTZMREkIF69G3qzMCLSm9DzksSgeTBYBgNV
            HREEUTBPgiRjMjg5MmRhMy1iYTc5LTRhMDQtYmZmMi0yNmY3OGE5NjdjMzeBFnZ0
            c2UgPHZ0c2VAYW1hem9uLmNvbT6BD3Z0c2VAYW1hem9uLmNvbTANBgkqhkiG9w0B
            AQsFAAOCAQEAqKdi9zQv64sOXcrJqHRR3u1KLFEOEA7PXsPYBrmiMbzUL2S0yueS
            U/BAZE2d5yKdP944KgLgaNgIx/LBM25Q0fUkpqysn8phCshH8W5cCwOIh/iiyLl+
            oErbPjZbmf6Y1x8X2Y/5y849+JJVM94IOC32S1SQK9vkYANBNymN3R3c4bqd+LVV
            2UKCIWyZI0Cx3E4ho+AKHzM/5LktzgAv0Dr13q7YjOEHBpEoQtEJcALnXcDKR3px
            zWyQzR4gp7p/bipPUM1vtd9SOPUPs8wNEmP11aBpELMoeYoAVYo2EUC8Vfl1n+hq
            HZ94OuXPtrBlViS0yLh7pQZm4ad4zRLjEQ==
            -----END CERTIFICATE-----
  syncPolicy:
    automated:
      prune: true
    syncOptions:
    - CreateNamespace=true
  ignoreDifferences:
  - group: ""
    jsonPointers:
    - /data
    kind: Secret
    namespace: demo
  - group: admissionregistration.k8s.io
    jsonPointers:
    - /webhooks/clientConfig/caBundle
    kind: MutatingWebhookConfiguration
    namespace: ""
  - group: admissionregistration.k8s.io
    jsonPointers:
    - /webhooks/clientConfig/caBundle
    kind: ValidatingWebhookConfiguration
    namespace: ""
