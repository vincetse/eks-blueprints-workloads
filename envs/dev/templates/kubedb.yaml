apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: kubedb
  namespace: {{ .Values.argoNamespace | default "argocd" }}
  finalizers:
  - resources-finalizer.argocd.argoproj.io
spec:
  project: default
  destination:
    namespace: kubedb
    server: {{ .Values.spec.destination.server }}
  source:
    chart: kubedb
    repoURL: https://charts.appscode.com/stable
    targetRevision: v2024.9.30
    helm:
      valuesObject:
        global:
          license: |
            -----BEGIN CERTIFICATE-----
            MIIEZTCCA02gAwIBAgIIZE1BHpxnkJMwDQYJKoZIhvcNAQELBQAwJTEWMBQGA1UE
            ChMNQXBwc0NvZGUgSW5jLjELMAkGA1UEAxMCY2EwHhcNMjQwOTI5MDUwMjM0WhcN
            MjQxMDI5MDUwMjM0WjCCARgxDzANBgNVBAYTBmt1YmVkYjETMBEGA1UECBMKZW50
            ZXJwcmlzZTGBpDAXBgNVBAoTEGt1YmVkYi1jb21tdW5pdHkwFwYDVQQKExBrdWJl
            ZGItZXh0LXN0YXNoMBgGA1UEChMRa3ViZWRiLWF1dG9zY2FsZXIwGAYDVQQKExFr
            dWJlZGItZW50ZXJwcmlzZTAcBgNVBAoTFXBhbm9wdGljb24tZW50ZXJwcmlzZTAe
            BgNVBAoTF2t1YmVkYi1tb25pdG9yaW5nLWFnZW50MRowGAYDVQQLExFrdWJlZGIt
            ZW50ZXJwcmlzZTEtMCsGA1UEAxMkMDQyZjI4ZjYtYTY2NS00OGUwLTkyMmEtN2Ri
            NjYxODNkNjhlMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA87BO2i/V
            CL7cY7sD3dWg+RmZ8OPdoQgcc/sPn4nNrDlBrKolWoi01ghxES/kvFuyMbXlcfX9
            AsM5ESisuBIXa7YIUXeBZidjHb2fRZOtbOg/WaxmL6QBNPGhwN7sBZkgap1K8POh
            TGFXPQsYbV6voyf4BgUMEggKmEmWkfpic65YxqTcpzuzA95YrrKOU9Ny/S7kja92
            hxWbyR7TZzvmEf/rbT6E7P6Y7BJgA0AQGIzeFfuaQti1retBx8lWAWlsgZeaLnk3
            S2MEZXPsYv7/Yhmrdx83LYgrJYFPqm8pVw+PMSY5FMR5nF85BD1hyXDRyD6z+UJy
            nKjUEE3xipIvyQIDAQABo4GjMIGgMA4GA1UdDwEB/wQEAwIFoDATBgNVHSUEDDAK
            BggrBgEFBQcDAjAfBgNVHSMEGDAWgBTZMREkIF69G3qzMCLSm9DzksSgeTBYBgNV
            HREEUTBPgiQwNDJmMjhmNi1hNjY1LTQ4ZTAtOTIyYS03ZGI2NjE4M2Q2OGWBFnZ0
            c2UgPHZ0c2VAYW1hem9uLmNvbT6BD3Z0c2VAYW1hem9uLmNvbTANBgkqhkiG9w0B
            AQsFAAOCAQEAhhlAbKxWlmU8cnp2tbdmluPWlRzbt+4pJKlI7Q4w/2sgquKYEvxA
            mPJa09OTocJh/9aMwHLAe2LYMxBXWsITh0MFMmCKyYwEzZrhZmIYH5xdKfDeKlKW
            mkH3v9wfVRJ1lQxYN5EZEC0QkL07IJxYWn+0WT3NJ9gxkZLmsBOo64wsw8juinIX
            8gFR51fNhsEur2sVsMbnlOAwshCStOJQ+84w0c0ndA74CjKQyboekc8xmeSLMu82
            n0B+0cLpwp/dxK0g43RBQJf8xIDdKctR4G9ZWmgcQCgovBJh46sfdE9Na7q/uwCG
            0J8QuCKlY2UXcLCdstYlAJ0RmXGd9RYf2w==
            -----END CERTIFICATE-----
  syncPolicy:
    automated:
      prune: true
    syncOptions:
    - CreateNamespace=true
  ignoreDifferences:
  - group: ""
    jsonPointers:
    - /data
    kind: Secret
    namespace: demo
  - group: admissionregistration.k8s.io
    jsonPointers:
    - /webhooks/clientConfig/caBundle
    kind: MutatingWebhookConfiguration
    namespace: ""
  - group: admissionregistration.k8s.io
    jsonPointers:
    - /webhooks/clientConfig/caBundle
    kind: ValidatingWebhookConfiguration
    namespace: ""
